
### Folder Structure
```
my-app/
‚îú‚îÄ‚îÄ frontend/                     # SolidStart app (client-side)
‚îÇ   ‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ routes/
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ login.tsx         # email/password login
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ register.tsx      # registration form
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ callback.tsx      # OAuth callback redirect page
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ dashboard.tsx     # protected route (example)
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ logout.tsx        # optional logout route
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ lib/
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ api.ts            # OpenAPI client or axios instance
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ auth.ts           # helpers for login/logout/token handling
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ toast.ts          # global toast notification utility
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ store/
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ auth.ts           # global auth signal/context
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ components/
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ AuthGuard.tsx     # protects routes by redirecting unauthenticated users
‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ OAuthButton.tsx   # buttons like ‚ÄúSign in with Google‚Äù
‚îÇ   ‚îî‚îÄ‚îÄ vite.config.ts
‚îÇ
‚îú‚îÄ‚îÄ backend/                      # backend logic (isolated from frontend)
‚îÇ   ‚îú‚îÄ‚îÄ db/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ index.ts              # Prisma client wrapper
‚îÇ   ‚îú‚îÄ‚îÄ prisma/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ schema.prisma         # user, session, oauth tables
‚îÇ   ‚îú‚îÄ‚îÄ services/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ UserService.ts        # CRUD & query logic for users
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ AuthService.ts        # handle password login + token issue
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ OAuthService.ts       # handle Google/GitHub OAuth flow
‚îÇ   ‚îú‚îÄ‚îÄ controllers/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ AuthController.ts     # REST endpoints for auth
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ UserController.ts     # endpoints for user CRUD
‚îÇ   ‚îú‚îÄ‚îÄ api/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ openapi.yaml          # OpenAPI spec (for hey-api)
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ routes/
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ auth.ts           # route handlers (register, login, etc.)
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ oauth.ts          # OAuth redirect + callback
‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ users.ts
‚îÇ   ‚îî‚îÄ‚îÄ utils/
‚îÇ       ‚îú‚îÄ‚îÄ env.ts                # environment variable loader
‚îÇ       ‚îú‚îÄ‚îÄ hash.ts               # bcrypt password hashing
‚îÇ
‚îú‚îÄ‚îÄ shared/
‚îÇ   ‚îú‚îÄ‚îÄ schemas/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ user.ts               # zod schema for user validation
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ auth.ts               # zod schema for login/register
‚îÇ   ‚îú‚îÄ‚îÄ types/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ user.ts
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ auth.ts
‚îÇ   ‚îî‚îÄ‚îÄ constants.ts              # e.g. token names, roles
‚îÇ
‚îú‚îÄ‚îÄ scripts/
‚îÇ   ‚îú‚îÄ‚îÄ generate-client.ts        # runs hey-api/openapi-ts codegen
‚îÇ   ‚îú‚îÄ‚îÄ seed.ts                   # optional: seed default users/roles
‚îÇ   ‚îî‚îÄ‚îÄ migrate.ts                # run prisma migrate programmatically
‚îÇ
‚îú‚îÄ‚îÄ docker-compose.yml            # optional: postgres/local dev
‚îú‚îÄ‚îÄ .env
‚îú‚îÄ‚îÄ openapi-ts.config.ts          # config for @hey-api/openapi-ts. This tells @hey-api/openapi-ts where to find the OpenAPI spec and where to save the generated client. (optional: needed if you want to save your configuration)
‚îî‚îÄ‚îÄ package.json
```


#  Hey-api/openapi-ts installation
  ``` npx @hey-api/openapi-ts -i ./backend/openapi.yaml -o ./packages/api-client/src/generated ```
  I put this on CLI command. Just in case, If you want to regenerate api-cleint or use it on another project. you can checkout this README or the offical doc. 
    You already committed the generated client files (e.g. /src/client).
    The OpenAPI spec (hey-api/backend or openapi.yaml/json) doesn‚Äôt change.
    You‚Äôre reusing your SolidStart starter as a new project base.

  üîÅ When you should regenerate
    You‚Äôve modified your API (new routes, schemas, responses).
    You‚Äôve moved or renamed the OpenAPI spec file/folder.
    You want to upgrade the client generator (new version of @hey-api/openapi-ts).

# openapi-ts.config.ts
  That file is just a saved preset, so you don‚Äôt have to retype your CLI command every time.


## NOTE: Axios is Optional
  This starterkit uses [`@hey-api/openapi-ts`](https://github.com/hey-api/openapi-ts) as the primary API client generator.  
  It creates a fully typed, `fetch`-based SDK for your backend endpoints ‚Äî meaning **you already have interceptors, type safety, and request configuration built in**.  

  Axios is **optional**, not required. You only need it for specific advanced scenarios.

  ---
  ### üß© TL;DR Summary

  | Option | Runtime | Type Support | Interceptors | Bundle Size | Ecosystem | Ideal For |
  |--------|----------|---------------|---------------|--------------|-------------|-------------|
  | **`fetch` (via `@hey-api/fetch`)** | Native | ‚úÖ Full TypeScript from OpenAPI | ‚úÖ Built-in (`OpenAPI.INTERCEPTORS`) | ‚ö° Very small | Modern / browser native | Typed SDKs, SSR, simple fetch |
  | **Axios** | JS library | ‚úÖ with wrappers | ‚úÖ Rich but custom setup | üß± Heavier | Mature & large | Legacy projects, Node-heavy backends |
  ---

### üß† When to Use Axios (Partially)
  Axios is only needed for edge cases that `fetch` doesn‚Äôt cover well:
  | Use Case | Reason |
  |-----------|--------|
  | **1Ô∏è‚É£ File uploads/downloads with progress** | `fetch` doesn‚Äôt expose upload/download progress events |
  | **2Ô∏è‚É£ External APIs (not in your OpenAPI spec)** | You might not want to extend your schema for one-off calls |
  | **3Ô∏è‚É£ Advanced logic (retry, cancellation, token refresh)** | Axios supports rich interceptor chains and `CancelToken` |
  | **4Ô∏è‚É£ Complex middleware chaining** | Easier with Axios‚Äô global interceptor model |
  ---

### üß∞ Recommended Pattern
  Keep your generated client as the **primary source of truth** for backend endpoints,  
  and use Axios only when a feature demands it.

  ```
  packages/
    api-client/ # generated OpenAPI client (fetch-based)
    core/
    api/
    index.ts # unified API facade
    external.ts # optional Axios wrapper for special cases
  ```


### Example:
  ```ts
  // core/api/index.ts
  import { UsersService } from "@api-client/generated";
  import { axiosClient } from "./external";

  export const api = {
    users: UsersService, // typed, fetch-based
    analytics: {
      sendEvent: (data) => axiosClient.post("/analytics", data), // external via Axios
    },
  };
  ```

## Vite Config
  You don‚Äôt need to create a custom vite.config.ts file ‚Äî unless:
    - You want to add plugins (like vite-plugin-svgr, vite-tsconfig-paths, or alias setup)
    - You want to configure server proxies for backend API routes (useful if you‚Äôre testing local backend on another port)
    - You want to tweak build output or optimize SSR settings

## üîê Authentication Strategy
  The platform uses **cookie-based sessions** for authentication, similar to Laravel Sanctum.
  - Backend sets an `HttpOnly` session cookie after login.
  - The cookie stores only a **session ID**, not user data (unlike JWTs).
  - Session state is persisted in the database or Redis.
  - Frontend automatically includes the cookie in requests (`credentials: 'include'`).

  This improves security by:
  - Preventing client-side decoding of tokens.
  - Mitigating XSS/CSRF risks with proper `SameSite`, `Secure`, and `HttpOnly` flags.
