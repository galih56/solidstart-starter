
### Folder Structure
my-app/
â”œâ”€â”€ frontend/                     # SolidStart app (client-side)
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ routes/
â”‚   â”‚   â”‚   â”œâ”€â”€ login.tsx         # email/password login
â”‚   â”‚   â”‚   â”œâ”€â”€ register.tsx      # registration form
â”‚   â”‚   â”‚   â”œâ”€â”€ callback.tsx      # OAuth callback redirect page
â”‚   â”‚   â”‚   â”œâ”€â”€ dashboard.tsx     # protected route (example)
â”‚   â”‚   â”‚   â””â”€â”€ logout.tsx        # optional logout route
â”‚   â”‚   â”œâ”€â”€ lib/
â”‚   â”‚   â”‚   â”œâ”€â”€ api.ts            # OpenAPI client or axios instance
â”‚   â”‚   â”‚   â”œâ”€â”€ auth.ts           # helpers for login/logout/token handling
â”‚   â”‚   â”‚   â””â”€â”€ toast.ts          # global toast notification utility
â”‚   â”‚   â”œâ”€â”€ store/
â”‚   â”‚   â”‚   â””â”€â”€ auth.ts           # global auth signal/context
â”‚   â”‚   â””â”€â”€ components/
â”‚   â”‚       â”œâ”€â”€ AuthGuard.tsx     # protects routes by redirecting unauthenticated users
â”‚   â”‚       â””â”€â”€ OAuthButton.tsx   # buttons like â€œSign in with Googleâ€
â”‚   â””â”€â”€ vite.config.ts
â”‚
â”œâ”€â”€ backend/                      # backend logic (isolated from frontend)
â”‚   â”œâ”€â”€ db/
â”‚   â”‚   â””â”€â”€ index.ts              # Prisma client wrapper
â”‚   â”œâ”€â”€ prisma/
â”‚   â”‚   â””â”€â”€ schema.prisma         # user, session, oauth tables
â”‚   â”œâ”€â”€ services/
â”‚   â”‚   â”œâ”€â”€ UserService.ts        # CRUD & query logic for users
â”‚   â”‚   â”œâ”€â”€ AuthService.ts        # handle password login + token issue
â”‚   â”‚   â”œâ”€â”€ OAuthService.ts       # handle Google/GitHub OAuth flow
â”‚   â”œâ”€â”€ controllers/
â”‚   â”‚   â”œâ”€â”€ AuthController.ts     # REST endpoints for auth
â”‚   â”‚   â””â”€â”€ UserController.ts     # endpoints for user CRUD
â”‚   â””â”€â”€ utils/
â”‚       â”œâ”€â”€ env.ts                # environment variable loader
â”‚
â”œâ”€â”€ shared/
â”‚   â”œâ”€â”€ schemas/
â”‚   â”‚   â”œâ”€â”€ user.ts               # zod schema for user validation
â”‚   â”‚   â””â”€â”€ auth.ts               # zod schema for login/register
â”‚   â”œâ”€â”€ types/
â”‚   â”‚   â”œâ”€â”€ user.ts
â”‚   â”‚   â””â”€â”€ auth.ts
â”‚   â””â”€â”€ constants.ts              # e.g. token names, roles
â”‚
â”œâ”€â”€ scripts/
â”‚   â”œâ”€â”€ generate-client.ts        # runs hey-api/openapi-ts codegen
â”‚   â”œâ”€â”€ seed.ts                   # optional: seed default users/roles
â”‚   â””â”€â”€ migrate.ts                # run prisma migrate programmatically
â”‚
â”œâ”€â”€ tsconfig.json                 # base shared config
â”œâ”€â”€ docker-compose.yml            # optional: postgres/local dev
â”œâ”€â”€ .env
â””â”€â”€ package.json

### ğŸ§© API Design Decision
This branch (`internal-api`) does **not** use OpenAPI or a generated API client.

Since the frontend (SolidStart) and backend (Prisma + services) live in the same runtime,
data access is handled through **direct service calls** and **Zod validation**, not HTTP endpoints.

If we later decide to expose the backend as a standalone REST API,
OpenAPI client generation (using `@hey-api/openapi-ts`) can be restored
from the `openapi-client` branch.

## Vite Config
  You donâ€™t need to create a custom vite.config.ts file â€” unless:
    - You want to add plugins (like vite-plugin-svgr, vite-tsconfig-paths, or alias setup)
    - You want to configure server proxies for backend API routes (useful if youâ€™re testing local backend on another port)
    - You want to tweak build output or optimize SSR settings

## ğŸ” Authentication Strategy
  The platform uses **cookie-based sessions** for authentication, similar to Laravel Sanctum.
  - Backend sets an `HttpOnly` session cookie after login.
  - The cookie stores only a **session ID**, not user data (unlike JWTs).
  - Session state is persisted in the database or Redis.
  - Frontend automatically includes the cookie in requests (`credentials: 'include'`).

  This improves security by:
  - Preventing client-side decoding of tokens.
  - Mitigating XSS/CSRF risks with proper `SameSite`, `Secure`, and `HttpOnly` flags.